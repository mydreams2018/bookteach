
   public ThreadGroup(ThreadGroup parent, String name) {
        this(checkParentAccess(parent), parent, name);
   }
   private ThreadGroup(Void unused, ThreadGroup parent, String name) {
        this.name = name;
        this.maxPriority = parent.maxPriority;
        this.daemon = parent.daemon;
        this.parent = parent;
        parent.add(this);
   }

    private final void add(ThreadGroup g){
           synchronized (this) {
               if (destroyed) {
                   throw new IllegalThreadStateException();
               }
               if (groups == null) {
                   groups = new ThreadGroup[4];
               } else if (ngroups == groups.length) {
                   groups = Arrays.copyOf(groups, ngroups * 2);
               }
               groups[ngroups] = g;

               ngroups++;
           }
    }